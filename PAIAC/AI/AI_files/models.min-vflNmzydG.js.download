define(["require","exports","tslib","immutable","react","modules/clean/filepath","modules/clean/react/file_viewer/constants","modules/clean/react_format","modules/clean/react/share_download/actions","modules/core/i18n"],(function(e,o,t,r,n,a,i,s,l,c){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),r=t.__importStar(r),n=t.__importDefault(n),a=t.__importStar(a),l=t.__importStar(l);var d={text:void 0,handler:void 0,spriteName:void 0,isDisabled:void 0,userAction:void 0},m=(function(o){function r(){return null!==o&&o.apply(this,arguments)||this}return t.__extends(r,o),r.buildDirectOption=function(o,a,s){var d=this;return void 0===a&&(a=null),new r({text:c._("Direct download"),handler:function(){if(l.direct(o,a),s){t.__awaiter(d,void 0,void 0,(function(){var o,r,a;return t.__generator(this,(function(i){switch(i.label){case 0:return[4,Promise.all([new Promise((function(o,t){e(["modules/clean/react/modal"],o,t)})).then(t.__importStar),new Promise((function(o,t){e(["modules/clean/react/file_viewer/conversions/post-download-modal"],o,t)})).then(t.__importStar)])];case 1:return o=i.sent(),r=o[0].Modal,a=o[1].PostDownloadModal,r.showInstance(n.default.createElement(a,{showModal:!0})),[2]}}))}))}},spriteName:"download_arrow",userAction:i.UserAction.Download})},r.buildToDropboxOption=function(e,o,t,d,m,_){void 0===_&&(_=!1);var u=c._("Save to my Dropbox"),f="dropbox",p=i.UserAction.SaveToDropbox;if(d&&d.is_cdm_member){var v=a.filename(d.cdm_tmf_path);u=v.length>12?c._("Save to my member folder"):s.reactFormat(c._("Save to <strong>%(cdm_tmf_name)s</strong> folder"),{cdm_tmf_name:v,strong:function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return n.default.createElement("strong",null,e)}}),t.is_paired&&(f="s_briefcase",p=i.UserAction.SaveToDropboxWork)}else if(t.is_paired)switch(m){case"personal":u=c._("Save to personal Dropbox"),f="s_house",p=i.UserAction.SaveToDropboxPersonal;break;case"work":u=c._("Save to %(team_name)s Dropbox").format({team_name:t.team_name}),f="s_briefcase",p=i.UserAction.SaveToDropboxWork}return new r({text:u,handler:function(){l.toDropbox(e,o,m,d)},spriteName:f,isDisabled:_,userAction:p})},r})(r.Record(d));o.ShareDownloadActionOption=m}));
//# sourceMappingURL=models.min.js-vflfMo6XK.map